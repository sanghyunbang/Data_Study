# 릴레이션 데이터 모델 강의 자료

## 1. 릴레이션 데이터 모델의 개념
- **릴레이션(Relation)**: 데이터베이스에서 데이터를 구조적으로 저장하기 위해 사용되는 모델로, 수학의 집합 이론에서 유래.
- **집합(Set)**:
  - 중복된 엘리먼트가 없음.
  - 엘리먼트의 순서가 중요하지 않음.
- **릴레이션의 구성**:
  - 릴레이션은 카르테시안 곱(Cartesian Product)의 부분 집합.
  - 예를 들어, 두 집합 A와 B가 있다면, A × B는 A와 B의 모든 가능한 쌍의 집합을 의미.

### 1.1 바이너리 릴레이션(Binary Relation)
- 두 개의 집합 A와 B가 있을 때, A × B의 부분 집합을 바이너리 릴레이션이라고 함.
- **예제**:
  - 집합 A = {1, 2}, B = {X, Y}
  - A × B = {(1, X), (1, Y), (2, X), (2, Y)}
  - 릴레이션: R = {(1, X), (2, Y)} (부분 집합)

### 1.2 N-항 릴레이션(N-ary Relation)
- 여러 집합(A, B, C, ...)의 카르테시안 곱에서 부분 집합을 릴레이션으로 정의.
- 튜플은 여러 개의 속성(Attribute)으로 이루어진 데이터 레코드를 의미.
- **예제**:
  - 집합 A = {1, 2}, B = {X, Y}, C = {Red, Blue}
  - A × B × C = {(1, X, Red), (1, X, Blue), (2, Y, Red), ...}
  - 릴레이션 R = {(1, X, Red), (2, Y, Blue)}

---

## 2. 릴레이션 데이터 모델의 구성 요소

### 2.1 도메인 (Domain)
- **정의**: 릴레이션의 각 속성이 가질 수 있는 값들의 집합.
- **특징**:
  - 원자적(Atomic): 더 이상 분할할 수 없는 값이어야 함.
  - 예: 학생 이름, 학번, 학년 등.
- **도메인 이름**: 각 도메인은 고유한 이름으로 식별 가능.
- **예제**:
  ```
  도메인: 학번 = {1001, 1002, 1003}
  도메인: 학년 = {1, 2, 3, 4}
  ```

### 2.2 속성 (Attribute)
- **정의**: 도메인에서 릴레이션 내에서 특정 역할을 수행하는 컬럼.
- **특징**:
  - 각 속성은 고유한 이름을 가져야 함.
  - 속성의 순서는 중요하지 않음.
- **예제**:
  ```
  속성: 학번(StudentID), 이름(Name), 학년(Grade)
  ```

### 2.3 튜플 (Tuple)
- **정의**: 릴레이션에서 하나의 행을 나타내는 값들의 집합.
- **특징**:
  - 튜플 간 순서는 중요하지 않음.
  - 중복된 튜플은 허용되지 않음.
- **예제**:
  ```
  튜플 1: (1001, "홍길동", 2)
  튜플 2: (1002, "김영희", 1)
  ```

### 2.4 릴레이션 (Relation)
- **정의**: 튜플들의 집합으로 이루어진 데이터 구조.
- **표현**:
  - 테이블 형식으로 시각화 가능.
  - 각 열은 속성, 각 행은 튜플을 의미.
- **예제**:

  | 학번(StudentID) | 이름(Name) | 학년(Grade) |
  |----------------|------------|-------------|
  | 1001          | 홍길동     | 2           |
  | 1002          | 김영희     | 1           |

---

## 3. 릴레이션의 키

### 3.1 슈퍼키 (Super Key)
- **정의**: 릴레이션 내에서 튜플을 고유하게 식별할 수 있는 속성들의 집합.
- **예제**:
  - 릴레이션 Students:

    | 학번(StudentID) | 이름(Name) | 학년(Grade) |
    |----------------|------------|-------------|
    | 1001          | 홍길동     | 2           |
    | 1002          | 김영희     | 1           |

  - 슈퍼키: {학번}, {학번, 이름}, {학번, 이름, 학년}

### 3.2 후보키 (Candidate Key)
- **정의**: 최소성(Minimality)을 만족하는 슈퍼키.
- **예제**:
  - {학번} (최소성을 만족하는 슈퍼키)

### 3.3 기본키 (Primary Key)
- **정의**: 후보키 중 릴레이션에서 튜플을 고유하게 식별하기 위해 선택된 키.
- **예제**:
  - Primary Key: {학번}

### 3.4 유니크 키 (Unique Key)
- **정의**: 기본키가 아닌 다른 후보키.
- **예제**:
  - Unique Key: {이름} (단, 중복이 없다고 가정)

### 3.5 외래키 (Foreign Key)
- **정의**: 다른 릴레이션의 기본키를 참조하는 속성.
- **예제**:
  - Students 릴레이션:

    | 학번(StudentID) | 이름(Name) |
    |----------------|------------|
    | 1001          | 홍길동     |

  - Enrollments 릴레이션:

    | 수강번호(EnrollID) | 학번(StudentID) | 과목(Course) |
    |-------------------|----------------|--------------|
    | 1                 | 1001          | 데이터베이스 |

  - Enrollments의 학번(StudentID)은 Students의 학번(StudentID)을 참조하는 외래키.

---
## 4. 릴레이션 데이터베이스 특징

### 4.1 중복 데이터 없음
- 릴레이션의 튜플은 중복될 수 없으며, 각 튜플은 고유함.

### 4.2 튜플과 속성의 순서가 중요하지 않음
- 릴레이션의 정의에서는 튜플과 속성의 순서가 데이터의 의미에 영향을 미치지 않음.

### 4.3 속성 값은 원자적이어야 함
- 속성 값은 더 이상 나눌 수 없는 값이어야 함.
  - 예: 주소는 도시, 구, 동 등으로 분리되어야 함.
  - 복수 값(Multivalued Attribute)은 별도의 속성으로 분리 필요.

---

## 5. NULL 값의 의미
- **NULL의 사용**:
  - 값이 존재하지 않음.
  - 값은 존재하지만 아직 알 수 없음.
  - 해당 속성에 값이 적용되지 않음.
- **주의 사항**:
  - NULL 값은 데이터 무결성을 저해할 수 있으므로 가능한 한 사용을 피해야 함.

---

## 6. 릴레이션의 제약 조건

### 6.1 도메인 제약 (Domain Constraint)
- 속성 값은 반드시 정의된 도메인 내의 값이어야 함.

### 6.2 키 제약 (Key Constraint)
- 각 릴레이션에는 기본키가 존재하며, 중복 값은 허용되지 않음.

### 6.3 엔터티 무결성 제약 (Entity Integrity Constraint)
- 기본키는 NULL 값을 가질 수 없음.

### 6.4 참조 무결성 제약 (Referential Integrity Constraint)
- 외래키 값은 참조된 기본키의 값과 일치해야 하며, 참조된 기본키 값이 없는 외래키 값은 허용되지 않음.

---

## 7. 릴레이션 스키마와 릴레이션 데이터베이스 스키마의 차이

### 7.1 릴레이션 스키마 (Relation Schema)
- **정의**: 개별 릴레이션(테이블)의 구조를 정의한 것.
- **포함 내용**:
  - 릴레이션 이름, 속성, 데이터 타입, 제약 조건.
  - 개별 테이블에 한정된 정의만 포함.
- **예시**:
  ```
  Students(StudentID: INT, Name: VARCHAR, Age: INT, Major: VARCHAR)
  ```
  - 릴레이션 이름: `Students`
  - 속성:
    - `StudentID`: 정수형, 기본키.
    - `Name`: 문자열.
    - `Age`: 정수형.
    - `Major`: 문자열.

### 7.2 릴레이션 데이터베이스 스키마 (Relational Database Schema)
- **정의**: 데이터베이스에 포함된 모든 릴레이션 스키마의 집합과 릴레이션 간의 관계를 정의한 것.
- **포함 내용**:
  - 데이터베이스의 전체적인 설계 구조.
  - 릴레이션 간의 관계, 외래키 제약 등.
- **예시**:
  ```
  Database Schema:
  1. Students(StudentID: INT, Name: VARCHAR, Age: INT, Major: VARCHAR)
  2. Enrollments(EnrollID: INT, StudentID: INT, Course: VARCHAR)
  3. Courses(CourseID: VARCHAR, Title: VARCHAR)

  Relationships:
  - Enrollments.StudentID -> Students.StudentID (외래키)
  - Enrollments.Course -> Courses.CourseID (외래키)
  ```

### 주요 차이점
| **특징**                  | **릴레이션 스키마**                                    | **릴레이션 데이터베이스 스키마**                     |
|--------------------------|----------------------------------------------------|---------------------------------------------------|
| **범위**                 | 개별 릴레이션(테이블)에 대한 정의                        | 데이터베이스 전체의 구조와 설계                     |
| **포함 내용**             | 릴레이션 이름, 속성, 데이터 타입, 기본키/외래키 제약 조건 | 모든 릴레이션 스키마와 릴레이션 간 관계 및 제약 조건  |
| **초점**                 | 특정 릴레이션의 구조                                  | 데이터베이스의 전체적인 설계 및 관계                |
| **예제**                 | `Students(StudentID, Name, Age, Major)`           | 여러 릴레이션 스키마와 그 관계                      |

---

## 8. 릴레이션의 표현
- **테이블 형식**: 릴레이션은 일반적으로 테이블로 표현됨.
- **튜플은 행(Row), 속성은 열(Column)**로 나타냄.
- **예시**:

  | 학번(StudentID) | 이름(Name) | 학년(Grade) |
  |----------------|------------|-------------|
  | 1001          | 홍길동     | 2           |
  | 1002          | 김영희     | 1           |

---

## 9. 릴레이션 데이터베이스의 활용
- 릴레이션 데이터 모델은 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 저장, 검색, 관리하는 데 사용됨.
- **SQL을 사용한 쿼리 예시**:
  ```sql
  -- Students 릴레이션 생성
  CREATE TABLE Students (
      StudentID INT PRIMARY KEY,
      Name VARCHAR(100),
      Age INT,
      Major VARCHAR(50)
  );

  -- Enrollments 릴레이션 생성
  CREATE TABLE Enrollments (
      EnrollID INT PRIMARY KEY,
      StudentID INT,
      Course VARCHAR(100),
      FOREIGN KEY (StudentID) REFERENCES Students(StudentID)
  );
  ```
